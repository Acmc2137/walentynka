<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Walentynka üíï</title>
<style>
body {
    margin: 0;
    height: 100vh;
    background-color: #f6c1d1;
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: Arial, sans-serif;
    overflow: hidden;
}

/* G≈Ç√≥wny kontener */
.container {
    width: 95%;
    max-width: 600px;
    height: 90vh;
    background: linear-gradient(135deg, #fff0f5, #ffe4e1);
    padding: 40px 30px;
    border-radius: 30px;
    text-align: center;
    position: relative;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: center;
}

/* Drugi kontener - wysrodkowany, dopasowany do zawarto≈õci */
.result-container {
    display: none;
    background: linear-gradient(135deg, #fff0f5, #ffe4e1);
    padding: 20px 30px;
    border-radius: 30px;
    text-align: center;
    max-width: 400px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    align-items: center;
}

h1 { font-size: 28px; color: #c2185b; margin-bottom: 30px; }
.big-love { font-size: 42px; color: #e91e63; font-weight: bold; margin-bottom: 20px; }
.love-photo img { border-radius: 25px; box-shadow: 0 10px 25px rgba(0,0,0,0.25); max-height: 250px; }

.buttons { position: relative; width: 100%; height: 250px; margin-top: 20px; }
button {
    font-size: 22px;
    padding: 15px 25px;
    border: none;
    border-radius: 40px;
    display: block;
    min-width: 100px;
    cursor: pointer;
    position: absolute;
}
#yes { background-color: #ff5c8a; color: white; left:50%; transform:translateX(-50%);}
#no { background-color: #ddd; color: black; left:50%; top:80px; transform:translateX(-50%);}
@keyframes pulse {0%{transform:scale(1);}50%{transform:scale(1.2);}100%{transform:scale(1);} }
.pulse { animation: pulse 0.6s ease infinite; }
.heart { position: fixed; top: -30px; font-size: 24px; animation: fall linear infinite; opacity: 0.85; pointer-events: none; z-index: 1; }
@keyframes fall { to { transform: translateY(110vh); } }
.flying { position: fixed; width: 150px; height: auto; pointer-events: none; z-index: 5; transform-origin: center center; }
</style>
</head>
<body>

<!-- G≈Ç√≥wny kontener -->
<div class="container" id="container">
    <h1 id="question">Zuzia, zostaniesz mojƒÖ walentynkƒÖ? üíò</h1>
    <div class="buttons" id="buttonsBox">
        <button id="yes">TAK</button>
        <button id="no">nie</button>
    </div>
</div>

<!-- Drugi kontener - wynik -->
<div class="result-container" id="resultContainer">
    <div class="big-love" id="bigLove">KOCHAM CIƒò MINIO ‚ù§Ô∏è</div>
    <div class="love-photo" id="lovePhotoContainer">
        <img id="mainPhoto" src="nasze-zdjecie.jpg" alt="Nasze zdjƒôcie">
    </div>
</div>

<audio id="loveSound" src="love-sound.mp3"></audio>

<script>
const noButton = document.getElementById("no");
const yesButton = document.getElementById("yes");
const bigLove = document.getElementById("bigLove");
const lovePhotoContainer = document.getElementById("lovePhotoContainer");
const mainPhoto = document.getElementById("mainPhoto");
const container = document.getElementById("container");
const resultContainer = document.getElementById("resultContainer");
const texts = ["nie", "no minio", "A zr√≥b minkƒô :(", "chyba ≈ºart..."];
let step = 0;

// Przyciski ‚Äûnie‚Äù w obrƒôbie g≈Ç√≥wnego kontenera
function moveNo(e){
    const contRect = container.getBoundingClientRect();
    const btnRect = noButton.getBoundingClientRect();
    const mouseX = e.clientX;
    const mouseY = e.clientY;

    const centerX = btnRect.left + btnRect.width/2;
    const centerY = btnRect.top + btnRect.height/2;
    const dx = centerX - mouseX;
    const dy = centerY - mouseY;
    const dist = Math.sqrt(dx*dx + dy*dy);

    if(dist < 120){
        const maxMove = 30;
        let moveX = (dx/dist) * Math.min(maxMove, 120-dist);
        let moveY = (dy/dist) * Math.min(maxMove, 120-dist);

        let currentLeft = btnRect.left - contRect.left;
        let currentTop = btnRect.top - contRect.top;

        let newLeft = currentLeft + moveX;
        let newTop = currentTop + moveY;

        newLeft = Math.max(0, Math.min(contRect.width - btnRect.width, newLeft));
        newTop = Math.max(0, Math.min(contRect.height - btnRect.height, newTop));

        noButton.style.left = newLeft + "px";
        noButton.style.top = newTop + "px";

        if(step < texts.length - 1) step++;
        noButton.textContent = texts[step];

        const angle = (Math.random()*20 - 10);
        noButton.style.transform = `rotate(${angle}deg)`;
        setTimeout(()=>{ noButton.style.transform = `rotate(0deg)`; }, 200);
    }
}
noButton.addEventListener("mousemove", moveNo);

// Klikniƒôcie TAK - pokazuje drugi kontener
yesButton.addEventListener("click", () => {
    container.style.display = "none";
    resultContainer.style.display = "flex";
    bigLove.style.display = "block";
    lovePhotoContainer.style.display = "flex";

    const audio = document.getElementById("loveSound");
    if(audio) audio.play();
});
</script>
</body>
</html>
